{"ast":null,"code":"import React,{useState}from'react';import\"./Sign_Up.css\";import{Link,useNavigate}from'react-router-dom';import{API_URL}from'../../config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Sign_Up=()=>{const[name,setName]=useState('');const[email,setEmail]=useState('');const[phone,setPhone]=useState('');const[password,setPassword]=useState('');const[showerr,setShowerr]=useState('');const navigate=useNavigate();const register=async e=>{e.preventDefault();// API Call\nconst response=await fetch(\"\".concat(API_URL,\"/api/auth/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,email:email,password:password,phone:phone})});const json=await response.json();if(json.authtoken){sessionStorage.setItem(\"auth-token\",json.authtoken);sessionStorage.setItem(\"name\",name);// phone and email\nsessionStorage.setItem(\"phone\",phone);sessionStorage.setItem(\"email\",email);// Redirect to home page\nnavigate(\"/\");//on directing to home page you need to give logic to change login and signup buttons with name of the user and logout button where you have implemented Navbar functionality\nwindow.location.reload();}else{if(json.error&&json.error.length<=1){for(const error of json.error){setShowerr(error.msg);}}else{setShowerr(json.error);}}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{className:\"vh-100 d-flex align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto col-12 col-xs-10 col-sm-8 col-lg-6 col-xl-4 form-bg shadow px-3 px-sm-4 px-lg-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-black text-center font-bold text-3xl mt-5\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"Aready a member? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-capitalize text-decoration-none text-primary\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",className:\"mx-auto w-100 mb-5\",onSubmit:register,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"roleinput\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"roleinput\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{children:\"5\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nameinput\",children:/*#__PURE__*/_jsx(\"span\",{className:\" text-capitalize\",children:\"name\"})})}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>setName(e.target.value),id:\"nameinput\",name:\"name\",type:\"text\",placeholder:\"Enter your name\",className:\"form-control\",required:true,value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phoneinput\",children:/*#__PURE__*/_jsx(\"span\",{className:\" text-capitalize\",children:\"Phone\"})})}),/*#__PURE__*/_jsx(\"input\",{value:phone,onChange:e=>setPhone(e.target.value),id:\"phoneinput\",name:\"phone\",type:\"number\",placeholder:\"Enter your phone number\",className:\"form-control\",required:true,pattern:\"\\\\d{10}\",title:\"Please input 10 digits\",minLength:\"10\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"emailinput\",children:/*#__PURE__*/_jsx(\"span\",{className:\" text-capitalize\",children:\"email\"})})}),/*#__PURE__*/_jsx(\"input\",{value:email,onChange:e=>setEmail(e.target.value),id:\"emailinput\",name:\"email\",type:\"email\",placeholder:\"Enter your email\",className:\"form-control\",required:true}),showerr&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",style:{color:'red'},children:showerr})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passwordinput\",children:/*#__PURE__*/_jsx(\"span\",{className:\" text-capitalize\",required:true,children:\"Password\"})})}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:e=>setPassword(e.target.value),id:\"passwordinput\",name:\"password\",type:\"password\",placeholder:\"Enter your password\",className:\"form-control\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary w-100 rounded-0 mb-3 \",type:\"submit\",value:\"Submit\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-danger w-100 rounded-0 \",type:\"reset\",value:\"Reset\"})})]})]})})});};export default Sign_Up;","map":{"version":3,"names":["React","useState","Link","useNavigate","API_URL","jsx","_jsx","jsxs","_jsxs","Sign_Up","name","setName","email","setEmail","phone","setPhone","password","setPassword","showerr","setShowerr","navigate","register","e","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","json","authtoken","sessionStorage","setItem","window","location","reload","error","length","msg","children","className","to","onSubmit","htmlFor","id","onChange","target","value","type","placeholder","required","pattern","title","minLength","style","color"],"sources":["/home/project/StayHealthy/stay-healthy/src/Components/Sign_Up/Sign_Up.js"],"sourcesContent":["import React, { useState } from 'react'\nimport \"./Sign_Up.css\";\nimport { Link, useNavigate } from 'react-router-dom';\nimport { API_URL } from '../../config';\n\n\nconst Sign_Up = () => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [phone, setPhone] = useState('');\n    const [password, setPassword] = useState('');\n    const [showerr, setShowerr] = useState('');\n    const navigate = useNavigate();\n\n    const register = async (e) => {              \n        e.preventDefault();\n        // API Call\n        const response = await fetch(`${API_URL}/api/auth/register`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                name: name,\n                email: email,\n                password: password,\n                phone: phone,\n            }),\n        });        \n        const json = await response.json();        \n        if (json.authtoken) {\n            sessionStorage.setItem(\"auth-token\", json.authtoken);\n            sessionStorage.setItem(\"name\", name);\n            // phone and email\n            sessionStorage.setItem(\"phone\", phone);\n            sessionStorage.setItem(\"email\", email);\n            // Redirect to home page\n            navigate(\"/\");   //on directing to home page you need to give logic to change login and signup buttons with name of the user and logout button where you have implemented Navbar functionality\n            window.location.reload();\n        } else {\n            if (json.error && (json.error.length<=1) ) {\n                for (const error of json.error) {\n                    setShowerr(error.msg);\n                }\n            } else {\n                setShowerr(json.error);\n            }\n        }\n    };\n    \n  return (\n    <div>\n    <section className=\"vh-100 d-flex align-items-center\" >\n            <div className=\"mx-auto col-12 col-xs-10 col-sm-8 col-lg-6 col-xl-4 form-bg shadow px-3 px-sm-4 px-lg-5\">\n                <h2 className=\"text-black text-center font-bold text-3xl mt-5\">Sign Up</h2>\n                <p className=\"text-center\">\n                    Aready a member? <Link to=\"/login\" className=\"text-capitalize text-decoration-none text-primary\">Login</Link>\n                </p>\n                <form method=\"POST\" className=\"mx-auto w-100 mb-5\" onSubmit={register}>   \n                    \n                    <div className=\"form-group mb-3\">   \n                        <label htmlFor=\"roleinput\">Role</label>\n                        <select className=\"form-control\" id=\"roleinput\" >\n                        <option>1</option>\n                        <option>2</option>\n                        <option>3</option>\n                        <option>4</option>\n                        <option>5</option>\n                        </select>\n                    </div>                    \n                    <div className=\"form-group mb-3\">   \n                        <div>\n                            <label htmlFor=\"nameinput\">\n                                <span className=\" text-capitalize\">name</span>\n                            </label>\n                        </div>             \n                        <input onChange={(e)=>setName(e.target.value)} id=\"nameinput\" name=\"name\" type=\"text\" placeholder=\"Enter your name\" className=\"form-control\" required value={name}/>                    \n                    </div>\n                    <div className=\"form-group mb-3\">   \n                        <div>\n                            <label htmlFor=\"phoneinput\">\n                                <span className=\" text-capitalize\">Phone</span>\n                            </label>\n                        </div>             \n                        <input value={phone} onChange={(e)=>setPhone(e.target.value)} id=\"phoneinput\" name=\"phone\" type=\"number\" placeholder=\"Enter your phone number\" className=\"form-control\" required pattern='\\d{10}' title='Please input 10 digits' minLength=\"10\"/>                    \n                    </div>\n                    <div className=\"form-group mb-3\">   \n                        <div>\n                            <label htmlFor=\"emailinput\">\n                                <span className=\" text-capitalize\">email</span>\n                            </label>\n                        </div>             \n                        <input value={email} onChange={(e)=>setEmail(e.target.value)} id=\"emailinput\" name=\"email\" type=\"email\" placeholder=\"Enter your email\" className=\"form-control\" required/>                    \n                        {showerr && <div className=\"alert alert-danger\" style={{ color: 'red' }}>{showerr}</div>}                        \n                    </div>\n                    <div className=\"form-group mb-3\">   \n                        <div>\n                            <label htmlFor=\"passwordinput\">\n                                <span className=\" text-capitalize\" required>Password</span>\n                            </label>\n                        </div>             \n                        <input value={password} onChange={(e)=>setPassword(e.target.value)} id=\"passwordinput\" name=\"password\" type=\"password\" placeholder=\"Enter your password\" className=\"form-control\" required/>\n                    </div>\n                    \n                    <div className=\"mt-4\">\n                        <input className=\"btn btn-primary w-100 rounded-0 mb-3 \" type=\"submit\" value=\"Submit\" />                       \n                    </div>  \n                    <div className=\"\">\n                        <input className=\"btn btn-danger w-100 rounded-0 \" type=\"reset\" value=\"Reset\" />                 \n                    </div>               \n                </form>\n        </div>\n    </section>  \n</div>\n  )\n}\n\nexport default Sign_Up"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,eAAe,CACtB,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,OAAO,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGvC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAmB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAkB,QAAQ,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAItB,OAAO,uBAAsB,CACzDuB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBrB,IAAI,CAAEA,IAAI,CACVE,KAAK,CAAEA,KAAK,CACZI,QAAQ,CAAEA,QAAQ,CAClBF,KAAK,CAAEA,KACX,CAAC,CACL,CAAC,CAAC,CACF,KAAM,CAAAkB,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClC,GAAIA,IAAI,CAACC,SAAS,CAAE,CAChBC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAEH,IAAI,CAACC,SAAS,CAAC,CACpDC,cAAc,CAACC,OAAO,CAAC,MAAM,CAAEzB,IAAI,CAAC,CACpC;AACAwB,cAAc,CAACC,OAAO,CAAC,OAAO,CAAErB,KAAK,CAAC,CACtCoB,cAAc,CAACC,OAAO,CAAC,OAAO,CAAEvB,KAAK,CAAC,CACtC;AACAQ,QAAQ,CAAC,GAAG,CAAC,CAAI;AACjBgB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC5B,CAAC,IAAM,CACH,GAAIN,IAAI,CAACO,KAAK,EAAKP,IAAI,CAACO,KAAK,CAACC,MAAM,EAAE,CAAE,CAAG,CACvC,IAAK,KAAM,CAAAD,KAAK,GAAI,CAAAP,IAAI,CAACO,KAAK,CAAE,CAC5BpB,UAAU,CAACoB,KAAK,CAACE,GAAG,CAAC,CACzB,CACJ,CAAC,IAAM,CACHtB,UAAU,CAACa,IAAI,CAACO,KAAK,CAAC,CAC1B,CACJ,CACJ,CAAC,CAEH,mBACEjC,IAAA,QAAAoC,QAAA,cACApC,IAAA,YAASqC,SAAS,CAAC,kCAAkC,CAAAD,QAAA,cAC7ClC,KAAA,QAAKmC,SAAS,CAAC,yFAAyF,CAAAD,QAAA,eACpGpC,IAAA,OAAIqC,SAAS,CAAC,gDAAgD,CAAAD,QAAA,CAAC,SAAO,CAAI,CAAC,cAC3ElC,KAAA,MAAGmC,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,mBACN,cAAApC,IAAA,CAACJ,IAAI,EAAC0C,EAAE,CAAC,QAAQ,CAACD,SAAS,CAAC,mDAAmD,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,EAC9G,CAAC,cACJlC,KAAA,SAAMmB,MAAM,CAAC,MAAM,CAACgB,SAAS,CAAC,oBAAoB,CAACE,QAAQ,CAAExB,QAAS,CAAAqB,QAAA,eAElElC,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BpC,IAAA,UAAOwC,OAAO,CAAC,WAAW,CAAAJ,QAAA,CAAC,MAAI,CAAO,CAAC,cACvClC,KAAA,WAAQmC,SAAS,CAAC,cAAc,CAACI,EAAE,CAAC,WAAW,CAAAL,QAAA,eAC/CpC,IAAA,WAAAoC,QAAA,CAAQ,GAAC,CAAQ,CAAC,cAClBpC,IAAA,WAAAoC,QAAA,CAAQ,GAAC,CAAQ,CAAC,cAClBpC,IAAA,WAAAoC,QAAA,CAAQ,GAAC,CAAQ,CAAC,cAClBpC,IAAA,WAAAoC,QAAA,CAAQ,GAAC,CAAQ,CAAC,cAClBpC,IAAA,WAAAoC,QAAA,CAAQ,GAAC,CAAQ,CAAC,EACV,CAAC,EACR,CAAC,cACNlC,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BpC,IAAA,QAAAoC,QAAA,cACIpC,IAAA,UAAOwC,OAAO,CAAC,WAAW,CAAAJ,QAAA,cACtBpC,IAAA,SAAMqC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,MAAI,CAAM,CAAC,CAC3C,CAAC,CACP,CAAC,cACNpC,IAAA,UAAO0C,QAAQ,CAAG1B,CAAC,EAAGX,OAAO,CAACW,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAACH,EAAE,CAAC,WAAW,CAACrC,IAAI,CAAC,MAAM,CAACyC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,iBAAiB,CAACT,SAAS,CAAC,cAAc,CAACU,QAAQ,MAACH,KAAK,CAAExC,IAAK,CAAC,CAAC,EACnK,CAAC,cACNF,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BpC,IAAA,QAAAoC,QAAA,cACIpC,IAAA,UAAOwC,OAAO,CAAC,YAAY,CAAAJ,QAAA,cACvBpC,IAAA,SAAMqC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,CAC5C,CAAC,CACP,CAAC,cACNpC,IAAA,UAAO4C,KAAK,CAAEpC,KAAM,CAACkC,QAAQ,CAAG1B,CAAC,EAAGP,QAAQ,CAACO,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAACH,EAAE,CAAC,YAAY,CAACrC,IAAI,CAAC,OAAO,CAACyC,IAAI,CAAC,QAAQ,CAACC,WAAW,CAAC,yBAAyB,CAACT,SAAS,CAAC,cAAc,CAACU,QAAQ,MAACC,OAAO,CAAC,SAAQ,CAACC,KAAK,CAAC,wBAAwB,CAACC,SAAS,CAAC,IAAI,CAAC,CAAC,EAChP,CAAC,cACNhD,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BpC,IAAA,QAAAoC,QAAA,cACIpC,IAAA,UAAOwC,OAAO,CAAC,YAAY,CAAAJ,QAAA,cACvBpC,IAAA,SAAMqC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,CAC5C,CAAC,CACP,CAAC,cACNpC,IAAA,UAAO4C,KAAK,CAAEtC,KAAM,CAACoC,QAAQ,CAAG1B,CAAC,EAAGT,QAAQ,CAACS,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAACH,EAAE,CAAC,YAAY,CAACrC,IAAI,CAAC,OAAO,CAACyC,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,kBAAkB,CAACT,SAAS,CAAC,cAAc,CAACU,QAAQ,MAAC,CAAC,CACzKnC,OAAO,eAAIZ,IAAA,QAAKqC,SAAS,CAAC,oBAAoB,CAACc,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAhB,QAAA,CAAExB,OAAO,CAAM,CAAC,EACvF,CAAC,cACNV,KAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BpC,IAAA,QAAAoC,QAAA,cACIpC,IAAA,UAAOwC,OAAO,CAAC,eAAe,CAAAJ,QAAA,cAC1BpC,IAAA,SAAMqC,SAAS,CAAC,kBAAkB,CAACU,QAAQ,MAAAX,QAAA,CAAC,UAAQ,CAAM,CAAC,CACxD,CAAC,CACP,CAAC,cACNpC,IAAA,UAAO4C,KAAK,CAAElC,QAAS,CAACgC,QAAQ,CAAG1B,CAAC,EAAGL,WAAW,CAACK,CAAC,CAAC2B,MAAM,CAACC,KAAK,CAAE,CAACH,EAAE,CAAC,eAAe,CAACrC,IAAI,CAAC,UAAU,CAACyC,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,qBAAqB,CAACT,SAAS,CAAC,cAAc,CAACU,QAAQ,MAAC,CAAC,EAC3L,CAAC,cAEN/C,IAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBpC,IAAA,UAAOqC,SAAS,CAAC,uCAAuC,CAACQ,IAAI,CAAC,QAAQ,CAACD,KAAK,CAAC,QAAQ,CAAE,CAAC,CACvF,CAAC,cACN5C,IAAA,QAAKqC,SAAS,CAAC,EAAE,CAAAD,QAAA,cACbpC,IAAA,UAAOqC,SAAS,CAAC,iCAAiC,CAACQ,IAAI,CAAC,OAAO,CAACD,KAAK,CAAC,OAAO,CAAE,CAAC,CAC/E,CAAC,EACJ,CAAC,EACV,CAAC,CACD,CAAC,CACT,CAAC,CAEN,CAAC,CAED,cAAe,CAAAzC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}