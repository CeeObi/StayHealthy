{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport fmPrf from \"./public/docprofilefml.svg\";\nimport mPrf from \"./public/docprofileml.svg\";\nimport { API_URL } from \"../config\";\nconst dataTest = [{\n  \"name\": \"Dr. Jiao Yang\",\n  \"ratings\": \"⭐⭐⭐⭐⭐\",\n  \"experience\": 9,\n  \"speciality\": \"Dentist\"\n}, {\n  \"name\": \"Dr. Denis Raj\",\n  \"ratings\": \"⭐⭐⭐⭐\",\n  \"experience\": 24,\n  \"speciality\": \"Dentist\"\n}, {\n  \"name\": \"Dr. Lyn Christie\",\n  \"ratings\": \"⭐⭐⭐\",\n  \"experience\": 11,\n  \"speciality\": \"Dentist\"\n}];\nconst initSpeciality = ['Dentist', 'Gynecologist/obstetrician', 'General Physician', 'Dermatologist', 'Ear-nose-throat (ent) Specialist', 'Homeopath', 'Ayurveda'];\nconst dataProfilePics = [mPrf, fmPrf];\nconst GetData = async searchedDoctorsSpecialty => {\n  const response = await fetch(\"https://api.npoint.io/9a5543d36f1460da2f63\");\n  const doctorsDetails = await response.json();\n  const doctorsInSpecialty = doctorsDetails.filter(docDetail => docDetail.speciality.toLowerCase() === searchedDoctorsSpecialty.toLowerCase());\n  return doctorsInSpecialty;\n};\n_c = GetData;\nconst fetchUserProfile = async () => {\n  _s();\n  const navigate = useNavigate();\n  try {\n    const authtoken = sessionStorage.getItem(\"auth-token\");\n    const email = sessionStorage.getItem(\"email\"); // Get the email from session storage\n\n    if (!authtoken) {\n      return null;\n    } else {\n      const response = await fetch(`${API_URL}/api/auth/user`, {\n        headers: {\n          \"Authorization\": `Bearer ${authtoken}`,\n          \"Email\": email // Add the email to the headers\n        }\n      });\n      if (response.ok) {\n        const user = await response.json();\n        sessionStorage.setItem(\"name\", user.name);\n        sessionStorage.setItem(\"phone\", user.phone);\n        sessionStorage.setItem(\"email\", user.email);\n        return user;\n      } else {\n        // Handle error case\n        throw new Error(\"Failed to fetch user profile\");\n      }\n    }\n  } catch (error) {\n    console.error(error);\n    // Handle error case\n  }\n};\n_s(fetchUserProfile, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nexport default GetData;\nexport { dataTest, dataProfilePics, initSpeciality };\nvar _c;\n$RefreshReg$(_c, \"GetData\");","map":{"version":3,"names":["useNavigate","fmPrf","mPrf","API_URL","dataTest","initSpeciality","dataProfilePics","GetData","searchedDoctorsSpecialty","response","fetch","doctorsDetails","json","doctorsInSpecialty","filter","docDetail","speciality","toLowerCase","_c","fetchUserProfile","_s","navigate","authtoken","sessionStorage","getItem","email","headers","ok","user","setItem","name","phone","Error","error","console","$RefreshReg$"],"sources":["/home/project/StayHealthy/stay-healthy/src/utils/GetData.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport fmPrf from \"./public/docprofilefml.svg\";\nimport mPrf from \"./public/docprofileml.svg\";\nimport { API_URL } from \"../config\";\n \n\n\n\nconst dataTest = [\n    {\n    \"name\": \"Dr. Jiao Yang\",\n    \"ratings\": \"⭐⭐⭐⭐⭐\",\n    \"experience\": 9,\n    \"speciality\": \"Dentist\"\n    },\n    {\n    \"name\": \"Dr. Denis Raj\",\n    \"ratings\": \"⭐⭐⭐⭐\",\n    \"experience\": 24,\n    \"speciality\": \"Dentist\"\n    },\n    {\n    \"name\": \"Dr. Lyn Christie\",\n    \"ratings\": \"⭐⭐⭐\",\n    \"experience\": 11,\n    \"speciality\": \"Dentist\"\n    },]\n\n\nconst initSpeciality = [\n'Dentist', 'Gynecologist/obstetrician', 'General Physician', 'Dermatologist', 'Ear-nose-throat (ent) Specialist', 'Homeopath', 'Ayurveda'\n]\n\n\nconst dataProfilePics = [mPrf, fmPrf]\nconst GetData = async (searchedDoctorsSpecialty) => {\n    const response = await fetch (\"https://api.npoint.io/9a5543d36f1460da2f63\")\n    const doctorsDetails = await response.json()    \n    const doctorsInSpecialty =  doctorsDetails.filter((docDetail) => docDetail.speciality.toLowerCase() === searchedDoctorsSpecialty.toLowerCase());\n    return  doctorsInSpecialty\n}\n\n\nconst fetchUserProfile = async () => {\n    const navigate=useNavigate()\n    try {\n      const authtoken = sessionStorage.getItem(\"auth-token\");\n      const email = sessionStorage.getItem(\"email\"); // Get the email from session storage\n\n        if (!authtoken) {\n            return null;\n        } \n        else {\n            const response = await fetch(`${API_URL}/api/auth/user`, {\n            headers: {\n                \"Authorization\": `Bearer ${authtoken}`,\n                \"Email\": email, // Add the email to the headers\n            },\n        });\n        if (response.ok) {\n            const user = await response.json();\n            sessionStorage.setItem(\"name\", user.name);\n            sessionStorage.setItem(\"phone\", user.phone);\n            sessionStorage.setItem(\"email\", user.email);\n            return user                        \n        } \n        else {\n            // Handle error case\n            throw new Error(\"Failed to fetch user profile\");\n            }\n        }\n    } catch (error) {\n        console.error(error);\n        // Handle error case\n    }\n    };\n\n\n\nexport default GetData;\nexport {dataTest, dataProfilePics, initSpeciality};"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,4BAA4B;AAC9C,OAAOC,IAAI,MAAM,2BAA2B;AAC5C,SAASC,OAAO,QAAQ,WAAW;AAKnC,MAAMC,QAAQ,GAAG,CACb;EACA,MAAM,EAAE,eAAe;EACvB,SAAS,EAAE,OAAO;EAClB,YAAY,EAAE,CAAC;EACf,YAAY,EAAE;AACd,CAAC,EACD;EACA,MAAM,EAAE,eAAe;EACvB,SAAS,EAAE,MAAM;EACjB,YAAY,EAAE,EAAE;EAChB,YAAY,EAAE;AACd,CAAC,EACD;EACA,MAAM,EAAE,kBAAkB;EAC1B,SAAS,EAAE,KAAK;EAChB,YAAY,EAAE,EAAE;EAChB,YAAY,EAAE;AACd,CAAC,CAAE;AAGP,MAAMC,cAAc,GAAG,CACvB,SAAS,EAAE,2BAA2B,EAAE,mBAAmB,EAAE,eAAe,EAAE,kCAAkC,EAAE,WAAW,EAAE,UAAU,CACxI;AAGD,MAAMC,eAAe,GAAG,CAACJ,IAAI,EAAED,KAAK,CAAC;AACrC,MAAMM,OAAO,GAAG,MAAOC,wBAAwB,IAAK;EAChD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,4CAA4C,CAAC;EAC3E,MAAMC,cAAc,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC5C,MAAMC,kBAAkB,GAAIF,cAAc,CAACG,MAAM,CAAEC,SAAS,IAAKA,SAAS,CAACC,UAAU,CAACC,WAAW,CAAC,CAAC,KAAKT,wBAAwB,CAACS,WAAW,CAAC,CAAC,CAAC;EAC/I,OAAQJ,kBAAkB;AAC9B,CAAC;AAAAK,EAAA,GALKX,OAAO;AAQb,MAAMY,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EAAAC,EAAA;EACjC,MAAMC,QAAQ,GAACrB,WAAW,CAAC,CAAC;EAC5B,IAAI;IACF,MAAMsB,SAAS,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IACtD,MAAMC,KAAK,GAAGF,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;;IAE7C,IAAI,CAACF,SAAS,EAAE;MACZ,OAAO,IAAI;IACf,CAAC,MACI;MACD,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEP,OAAQ,gBAAe,EAAE;QACzDuB,OAAO,EAAE;UACL,eAAe,EAAG,UAASJ,SAAU,EAAC;UACtC,OAAO,EAAEG,KAAK,CAAE;QACpB;MACJ,CAAC,CAAC;MACF,IAAIhB,QAAQ,CAACkB,EAAE,EAAE;QACb,MAAMC,IAAI,GAAG,MAAMnB,QAAQ,CAACG,IAAI,CAAC,CAAC;QAClCW,cAAc,CAACM,OAAO,CAAC,MAAM,EAAED,IAAI,CAACE,IAAI,CAAC;QACzCP,cAAc,CAACM,OAAO,CAAC,OAAO,EAAED,IAAI,CAACG,KAAK,CAAC;QAC3CR,cAAc,CAACM,OAAO,CAAC,OAAO,EAAED,IAAI,CAACH,KAAK,CAAC;QAC3C,OAAOG,IAAI;MACf,CAAC,MACI;QACD;QACA,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;MAC/C;IACJ;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB;EACJ;AACA,CAAC;AAACb,EAAA,CAhCAD,gBAAgB;EAAA,QACHnB,WAAW;AAAA;AAmC9B,eAAeO,OAAO;AACtB,SAAQH,QAAQ,EAAEE,eAAe,EAAED,cAAc;AAAE,IAAAa,EAAA;AAAAiB,YAAA,CAAAjB,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}